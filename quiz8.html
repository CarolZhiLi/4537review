<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz 8: Promise Basic - JavaScript Quiz Collection</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .quiz-page {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .quiz-title {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 30px;
            text-align: center;
            font-weight: 700;
        }
        
        .back-button {
            display: inline-flex;
            align-items: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 25px;
            border-radius: 10px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            margin-bottom: 30px;
        }
        
        .back-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        
        .back-button::before {
            content: "‚Üê ";
            margin-right: 8px;
        }
        
        @media (max-width: 768px) {
            .quiz-page {
                padding: 20px;
            }
            
            .quiz-title {
                font-size: 2em;
            }
        }
        
        @media (max-width: 480px) {
            .quiz-page {
                padding: 15px;
            }
            
            .quiz-title {
                font-size: 1.6em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-button">Back to Quiz Collection</a>
        
        <div class="quiz-page">
            <h1 class="quiz-title">Quiz 8: Promise Basic</h1>
            
            <div class="question">
                <div class="question-number">Question 1</div>
                <div class="question-text">Select native async functions in Vanilla JS below.</div>
                <div class="options">
                    <div class="option">1. <code>setTimeout()</code></div>
                    <div class="option">2. <code>setInterval()</code></div>
                    <div class="option">3. <code>forEach()</code></div>
                    <div class="option">4. <code>console.log()</code></div>
                </div>
                <div class="answer">
                    <div class="answer-title">‚úÖ Correct Answer</div>
                    <strong>1, 2</strong>
                </div>
                <div class="explanation">
                    <div class="explanation-title">üí° Explanation</div>
                    <p><code>setTimeout</code> and <code>setInterval</code> are asynchronous. They hand a task off to the browser's timer API and allow the rest of the JavaScript code to continue executing without waiting. <code>forEach</code> and <code>console.log</code> are synchronous; they block execution until they are complete.</p>
                </div>
            </div>

            <div class="question">
                <div class="question-number">Question 2</div>
                <div class="question-text">What is the correct output order?</div>
                <div class="code-block">const fn1 = () =>
    new Promise((resolve, reject) => {
        console.log(1);
        resolve('success');
    });

fn1().then((res) => {
    console.log(res);
});

console.log('start');</div>
                <div class="answer">
                    <div class="answer-title">‚úÖ Correct Answer</div>
                    <div class="code-block">1
start
success</div>
                </div>
                <div class="explanation">
                    <div class="explanation-title">üí° Explanation</div>
                    <ol>
                        <li>The function passed to the <code>new Promise</code> constructor (the "executor") runs <strong>synchronously</strong>. So, <code>console.log(1)</code> runs first.</li>
                        <li><code>resolve('success')</code> fulfills the promise and queues the <code>.then()</code> callback to run later in the microtask queue.</li>
                        <li>Execution continues with the next synchronous line: <code>console.log('start')</code>.</li>
                        <li>After the main script finishes, the event loop processes the microtask queue, running the <code>.then()</code> callback and logging <code>success</code>.</li>
                    </ol>
                </div>
            </div>

            <div class="question">
                <div class="question-number">Question 3</div>
                <div class="question-text">What is the correct output order?</div>
                <div class="code-block">const promise = new Promise((resolve, reject) => {
    console.log(1);
    console.log(2);
});

promise
    .then(() => {
        console.log(3);
    })
    .then(() => {
        console.log(4);
    });
console.log(5);</div>
                <div class="answer">
                    <div class="answer-title">‚úÖ Correct Answer</div>
                    <div class="code-block">1
2
5</div>
                </div>
                <div class="explanation">
                    <div class="explanation-title">üí° Explanation</div>
                    <p>The promise executor runs synchronously, logging <code>1</code> and <code>2</code>. However, <code>resolve()</code> is never called, so the promise remains in the <strong>pending</strong> state forever. The <code>.then()</code> callbacks are only executed when a promise is fulfilled, so they will never run. After the promise is created, the synchronous <code>console.log(5)</code> is executed.</p>
                </div>
            </div>

            <div class="question">
                <div class="question-number">Question 4</div>
                <div class="question-text">Which choice about Promise is incorrect?</div>
                <div class="options">
                    <div class="option">‚Ä¢ A Promise is an object representing the eventual completion or failure of an asynchronous operation.</div>
                    <div class="option">‚Ä¢ Essentially, a Promise is a returned object to which you attach callbacks, instead of passing callbacks into a function.</div>
                    <div class="option">‚Ä¢ <span class="highlight">A pending promise can not be fulfilled with a value or rejected with a reason (error).</span></div>
                    <div class="option">‚Ä¢ A Promise is always in one of the three states: I. pending, II. fulfilled, III. rejected.</div>
                </div>
                <div class="answer">
                    <div class="answer-title">‚úÖ Correct Answer</div>
                    <strong>The incorrect statement is "A pending promise can not be fulfilled with a value or rejected with a reason (error)".</strong>
                </div>
                <div class="explanation">
                    <div class="explanation-title">üí° Explanation</div>
                    <p>This is incorrect because the entire point of a promise being in the <code>pending</code> state is that it is waiting to be either fulfilled or rejected.</p>
                </div>
            </div>

            <div class="question">
                <div class="question-number">Question 5</div>
                <div class="question-text">What is the output of the code?</div>
                <div class="code-block">new Promise(function (resolve, reject) {
    console.log('Promise');
    resolve();
})
.then(function () {
    console.log('Resolve 1');
})
.then(function () {
    console.log('Resolve 2');
});
console.log('console.log');</div>
                <div class="answer">
                    <div class="answer-title">‚úÖ Correct Answer</div>
                    <div class="code-block">Promise
console.log
Resolve 1
Resolve 2</div>
                </div>
                <div class="explanation">
                    <div class="explanation-title">üí° Explanation</div>
                    <p>The Promise executor runs synchronously (<code>Promise</code>). Then, the next synchronous code runs (<code>console.log</code>). Finally, after the main script is done, the chained <code>.then()</code> callbacks in the microtask queue are executed in order (<code>Resolve 1</code>, <code>Resolve 2</code>).</p>
                </div>
            </div>

            <div class="question">
                <div class="question-number">Question 6</div>
                <div class="question-text">Which is the correct output of the code?</div>
                <div class="code-block">let promiseObj = new Promise((resolve, reject) => {
    resolve('hello 1');
    resolve('hello 2');
    resolve('hello 3');
    reject('error');
});

promiseObj.then((data) => console.log(data));</div>
                <div class="answer">
                    <div class="answer-title">‚úÖ Correct Answer</div>
                    <strong>hello 1</strong>
                </div>
                <div class="explanation">
                    <div class="explanation-title">üí° Explanation</div>
                    <p>A promise can only be settled (fulfilled or rejected) <strong>once</strong>. The first call to <code>resolve('hello 1')</code> fulfills the promise. All subsequent calls to <code>resolve</code> and <code>reject</code> are ignored. The <code>.then()</code> handler therefore receives the first resolved value.</p>
                </div>
            </div>

            <div class="question">
                <div class="question-number">Question 7</div>
                <div class="question-text">What is the state of <code>promiseObj</code> after the code below gets executed?</div>
                <div class="code-block">let promiseObj = new Promise((resolve, reject) => {
    resolve('hello 1');
    resolve('hello 2');
    resolve('hello 3');
    reject('error');
});

promiseObj.then((data) => console.log(data));</div>
                <div class="answer">
                    <div class="answer-title">‚úÖ Correct Answer</div>
                    <strong>fulfilled</strong>
                </div>
                <div class="explanation">
                    <div class="explanation-title">üí° Explanation</div>
                    <p>A promise settles only once. The first call, <code>resolve('hello 1')</code>, immediately moves the promise's state from <code>pending</code> to <code>fulfilled</code>. All subsequent calls are ignored, so the final state remains <code>fulfilled</code>.</p>
                </div>
            </div>

            <div class="question">
                <div class="question-number">Question 8</div>
                <div class="question-text">Which function doesn't return a Promise?</div>
                <div class="code-block">// Option 1
function fn1() {
    return Promise.resolve('hello world');
}

// Option 2
async function fn2() {
    return 'hello world';
}

// Option 3
function fn4() {
    return new Promise((resolve, reject) => {
        reject('hello world');
    });
}

// Option 4
function fn3() {
    new Promise(() => {
        return 'hello world';
    });
}</div>
                <div class="answer">
                    <div class="answer-title">‚úÖ Correct Answer</div>
                    <strong>fn3</strong>
                </div>
                <div class="explanation">
                    <div class="explanation-title">üí° Explanation</div>
                    <p><code>fn1</code>, <code>fn2</code> (async functions always return promises), and <code>fn4</code> all explicitly return a promise. <code>fn3</code> creates a promise but <strong>does not return it</strong>. Since it has no <code>return</code> statement, it implicitly returns <code>undefined</code>.</p>
                </div>
            </div>

            <div class="question">
                <div class="question-number">Question 9</div>
                <div class="question-text">What is the correct order of the output?</div>
                <div class="code-block">setTimeout(() => {
    console.log(1);
}, 1);

console.log(2);

new Promise((resolve) => {
    console.log(3);
    resolve();
}).then(() => {
    console.log(4);
});</div>
                <div class="answer">
                    <div class="answer-title">‚úÖ Correct Answer</div>
                    <div class="code-block">2
3
4
1</div>
                </div>
                <div class="explanation">
                    <div class="explanation-title">üí° Explanation</div>
                    <ol>
                        <li><code>setTimeout</code> schedules a <strong>macrotask</strong>.</li>
                        <li><code>console.log(2)</code> runs synchronously. Output: <code>2</code>.</li>
                        <li>The <code>Promise</code> executor runs synchronously. Output: <code>3</code>.</li>
                        <li>The <code>.then()</code> callback is scheduled as a <strong>microtask</strong>.</li>
                        <li>After the main script, the event loop runs all <strong>microtasks</strong> first. Output: <code>4</code>.</li>
                        <li>Finally, the event loop runs the <strong>macrotasks</strong>. Output: <code>1</code>.</li>
                    </ol>
                </div>
            </div>

            <div class="question">
                <div class="question-number">Question 10</div>
                <div class="question-text">What is the correct output of the code below?</div>
                <div class="code-block">function timer(time) {
    return new Promise(function (resolve, reject) {
        setTimeout(function () {
            resolve(time);
        }, time);
    });
}

const timers = [timer(1000), timer(1000), timer(3000), timer(4000)];

Promise.race(timers).then((res) => {
    console.log(res);
});</div>
                <div class="answer">
                    <div class="answer-title">‚úÖ Correct Answer</div>
                    <strong>1000</strong>
                </div>
                <div class="explanation">
                    <div class="explanation-title">üí° Explanation</div>
                    <p><code>Promise.race()</code> resolves or rejects as soon as the <strong>first</strong> promise in the array settles. In this case, the two <code>timer(1000)</code> promises are the fastest. As soon as one of them resolves after 1000ms, the race is over, and the <code>.then()</code> block receives its value, <code>1000</code>.</p>
                </div>
            </div>

            <div class="question">
                <div class="question-number">Question 11</div>
                <div class="question-text">What type would this function return upon invocation?</div>
                <div class="code-block">function fun() {
    new Promise(() => {
        return 'hello world';
    })
}</div>
                <div class="answer">
                    <div class="answer-title">‚úÖ Correct Answer</div>
                    <strong>undefined</strong>
                </div>
                <div class="explanation">
                    <div class="explanation-title">üí° Explanation</div>
                    <p>The function <code>fun</code> creates a <code>Promise</code> but does not have a <code>return</code> statement for it. Functions in JavaScript that do not have an explicit <code>return</code> statement implicitly return <code>undefined</code>.</p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
